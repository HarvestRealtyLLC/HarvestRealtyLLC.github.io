<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prasad Abraham - Broker/Owner | Harvest Realty LLC</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600;700&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --burgundy: #8B2E2E;
            --burgundy-dark: #6B1E1E;
            --gold: #D4AF37;
            --gold-dark: #B8941F;
            --cream: #F5F1E8;
            --cream-dark: #E8E0D0;
            --charcoal: #2C2C2C;
            --white: #FFFFFF;
            --shadow: rgba(139, 46, 46, 0.15);
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Montserrat', sans-serif;
            background: var(--cream);
            color: var(--charcoal);
            line-height: 1.6;
        }
        
        h1, h2, h3, h4 { font-family: 'Cormorant Garamond', serif; }
        
        header {
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            background: linear-gradient(180deg, rgba(255,255,255,0.98) 0%, rgba(245,241,232,0.95) 100%);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px var(--shadow);
        }
        
        nav {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 3rem;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            gap: 1rem;
            text-decoration: none;
        }
        
        .logo-container img { height: 60px; width: auto; }
        
        .logo-text h1 {
            font-size: 1.8rem;
            color: var(--burgundy);
            margin-bottom: 0.2rem;
        }
        
        .logo-text p {
            font-size: 0.85rem;
            color: var(--gold-dark);
            letter-spacing: 2px;
            text-transform: uppercase;
            font-weight: 500;
        }
        
        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }
        
        .nav-links a {
            text-decoration: none;
            color: var(--charcoal);
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .nav-links a:hover { color: var(--burgundy); }
        
        .tenant-link {
            background: var(--cream-dark);
            padding: 0.5rem 1rem;
            border-radius: 50px;
            color: var(--burgundy) !important;
        }
        
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.8rem;
            color: var(--burgundy);
            cursor: pointer;
        }
        
        .agent-hero {
            background: linear-gradient(135deg, var(--burgundy) 0%, var(--burgundy-dark) 100%);
            color: var(--white);
            padding: 10rem 2rem 4rem;
            text-align: center;
        }
        
        .agent-photo {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid var(--gold);
            margin-bottom: 1rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            background: var(--cream);
        }
        
        .agent-photo-placeholder {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            border: 4px solid var(--gold);
            background: var(--cream);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            color: var(--burgundy);
            margin: 0 auto 1rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .agent-role-badge {
            display: inline-block;
            background: var(--gold);
            color: var(--charcoal);
            padding: 0.5rem 1.5rem;
            border-radius: 50px;
            font-weight: 600;
            font-size: 0.85rem;
            margin-bottom: 1rem;
            letter-spacing: 1px;
        }
        
        .agent-hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        
        .agent-contact-hero {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
            margin-top: 1.5rem;
        }
        
        .agent-contact-hero a {
            color: var(--white);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            background: rgba(255,255,255,0.1);
            border-radius: 50px;
            transition: all 0.3s;
        }
        
        .agent-contact-hero a:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }
        
        main {
            max-width: 900px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }
        
        .section {
            background: var(--white);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 40px var(--shadow);
        }
        
        .section h2 {
            color: var(--burgundy);
            font-size: 1.8rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--gold);
        }
        
        .section p { margin-bottom: 1rem; }
        
        .specialties {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin-top: 1rem;
        }
        
        .specialty-tag {
            background: linear-gradient(135deg, var(--burgundy) 0%, var(--burgundy-dark) 100%);
            color: var(--white);
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .license-info {
            background: var(--cream);
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 0.5rem;
        }
        
        .cta-buttons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin-top: 1.5rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--burgundy) 0%, var(--burgundy-dark) 100%);
            color: var(--white);
            padding: 1rem 2rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px var(--shadow);
        }
        
        .btn-secondary {
            background: var(--gold);
            color: var(--charcoal);
            padding: 1rem 2rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .btn-secondary:hover { transform: translateY(-3px); }
        
        .listings-section { margin-top: 2rem; }
        
        .listings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }
        
        .listing-card {
            background: var(--white);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px var(--shadow);
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .listing-card:hover { transform: translateY(-5px); }
        
        .listing-card img {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }
        
        .listing-card-info { padding: 1rem; }
        .listing-card-price { font-size: 1.2rem; font-weight: 700; color: var(--burgundy); }
        .listing-card-address { font-size: 0.9rem; color: #666; margin-top: 0.25rem; }
        
        .listing-status {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-top: 0.5rem;
        }
        
        .status-active { background: #4CAF50; color: white; }
        .status-under-contract { background: #FFC107; color: #333; }
        .status-sold { background: var(--burgundy); color: white; }
        
        footer {
            background: var(--charcoal);
            color: var(--white);
            padding: 2rem;
            text-align: center;
        }
        
        footer a { color: var(--gold); text-decoration: none; }
        
        .loading { text-align: center; padding: 2rem; color: #666; }
        
        @media (max-width: 900px) {
            nav { padding: 1rem; }
            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: var(--white);
                flex-direction: column;
                padding: 1rem;
                box-shadow: 0 5px 20px var(--shadow);
            }
            .nav-links.active { display: flex; }
            .mobile-menu-toggle { display: block; }
            .logo-container img { height: 45px; }
            .logo-text h1 { font-size: 1.4rem; }
            .agent-hero { padding: 8rem 1rem 3rem; }
            .agent-hero h1 { font-size: 2.2rem; }
            .agent-contact-hero { flex-direction: column; align-items: center; }
            main { padding: 2rem 1rem; }
        }
    </style>
</head>
<body>
    <header id="header">
        <nav>
            <div class="logo-container">
                <img src="hrg-logo.png" alt="Harvest Realty LLC Logo">
                <div class="logo-text">
                    <h1>Harvest Realty LLC</h1>
                    <p>PA & NJ Experts</p>
                </div>
            </div>
            <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle menu">‚ò∞</button>
            <div class="nav-links" id="navLinks">
                <a href="index.html">Home</a>
                <a href="index.html#services">Services</a>
                <a href="properties.html">Properties</a>
                <a href="index.html#team">Our Team</a>
                <a href="partners.html">Partners</a>
                <a href="index.html#about">About</a>
                <a href="index.html#contact">Contact</a>
                <a href="tenants.html" class="tenant-link">Are you a Tenant?</a>
                <a href="portal.html" style="background: var(--charcoal); color: var(--white); padding: 0.5rem 1rem; border-radius: 5px;">üîê Agent Login</a>
            </div>
        </nav>
    </header>

    <section class="agent-hero" id="agentHero">
        <div class="loading">Loading agent profile...</div>
    </section>

    <main id="mainContent">
        <div class="loading">Loading...</div>
    </main>

    <footer>
        <p>&copy; 2026 Harvest Realty LLC. All rights reserved.</p>
        <p style="margin-top: 0.5rem;"><a href="index.html">Home</a> | <a href="privacy.html">Privacy Policy</a> | <a href="terms.html">Terms of Use</a> | <a href="fair-housing.html">Fair Housing</a></p>
        <p style="margin-top: 0.5rem; font-size: 0.85rem;">Licensed in PA & NJ | Equal Housing Opportunity üè†</p>
    </footer>

    <script>
        const SUPABASE_URL = 'https://zzjunmkcdpdxhmhiggno.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp6anVubWtjZHBkeGhtaGlnZ25vIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgyNzM1MDIsImV4cCI6MjA4Mzg0OTUwMn0.HYHck2haMWyEQh1sSXGjh9nWqPXmfvXeE60HBTVx-KM';
        
        const AGENT_EMAIL = 'prasad@harvestrealty.llc';
        
        const DEFAULT_DATA = {
            name: 'Prasad Abraham',
            role: 'Broker/Owner',
            phone: '215-519-4096',
            email: 'prasad@harvestrealty.llc',
            photo_url: 'photos/prasad-abraham.png',
            bio: 'Welcome! I\'m Prasad Abraham, the Broker and Owner of Harvest Realty LLC. With years of experience in the Pennsylvania and New Jersey real estate markets, I\'m dedicated to helping clients achieve their property goals.\n\nWhether you\'re buying your first home, selling a property, or looking for investment opportunities, I provide personalized service and expert guidance every step of the way.',
            specialties: 'Residential Sales,Property Management,Investment Properties,First-Time Home Buyers,Philadelphia Area,New Jersey',
            license_pa: '',
            license_nj: ''
        };
        
        async function loadAgent() {
            try {
                const response = await fetch(
                    `${SUPABASE_URL}/rest/v1/agents?email=eq.${encodeURIComponent(AGENT_EMAIL)}&select=*`,
                    {
                        headers: {
                            'apikey': SUPABASE_ANON_KEY,
                            'Authorization': `Bearer ${SUPABASE_ANON_KEY}`
                        }
                    }
                );
                
                if (!response.ok) throw new Error('Failed to fetch');
                
                const agents = await response.json();
                const agent = agents[0] || DEFAULT_DATA;
                
                let listings = [];
                if (agent.id) {
                    const listingsResponse = await fetch(
                        `${SUPABASE_URL}/rest/v1/listings?agent_id=eq.${agent.id}&select=*&order=created_at.desc`,
                        {
                            headers: {
                                'apikey': SUPABASE_ANON_KEY,
                                'Authorization': `Bearer ${SUPABASE_ANON_KEY}`
                            }
                        }
                    );
                    if (listingsResponse.ok) {
                        listings = await listingsResponse.json();
                    }
                }
                
                renderAgent(agent, listings);
                
            } catch (err) {
                console.error('Error loading agent:', err);
                renderAgent(DEFAULT_DATA, []);
            }
        }
        
        function renderAgent(agent, listings) {
            const heroSection = document.getElementById('agentHero');
            const mainContent = document.getElementById('mainContent');
            const specialties = agent.specialties ? agent.specialties.split(',').map(s => s.trim()) : DEFAULT_DATA.specialties.split(',');
            
            document.title = `${agent.name} - ${agent.role || 'Sales Agent'} | Harvest Realty LLC`;
            
            heroSection.innerHTML = `
                ${agent.photo_url 
                    ? `<img src="${agent.photo_url}" alt="${agent.name}" class="agent-photo" onerror="this.outerHTML='<div class=\\'agent-photo-placeholder\\'>${agent.name.split(' ').map(n=>n[0]).join('')}</div>'">`
                    : `<div class="agent-photo-placeholder">${agent.name.split(' ').map(n=>n[0]).join('')}</div>`
                }
                <span class="agent-role-badge">${(agent.role || 'SALES AGENT').toUpperCase()}</span>
                <h1>${agent.name}</h1>
                <div class="agent-contact-hero">
                    ${agent.phone ? `<a href="tel:${agent.phone}">üìû ${agent.phone}</a>` : ''}
                    <a href="mailto:${agent.email}">üìß ${agent.email}</a>
                    <a href="https://cal.com/harvestrealtyllc" target="_blank">üìÖ Schedule a Meeting</a>
                </div>
            `;
            
            mainContent.innerHTML = `
                <div class="section">
                    <h2>About Me</h2>
                    ${(agent.bio || DEFAULT_DATA.bio).split('\n').map(p => `<p>${p}</p>`).join('')}
                </div>
                
                <div class="section">
                    <h2>Areas of Expertise</h2>
                    <div class="specialties">
                        ${specialties.map(s => `<span class="specialty-tag">${s}</span>`).join('')}
                    </div>
                </div>
                
                <div class="section">
                    <h2>Community Focus</h2>
                    <p>I'm passionate about serving diverse communities and building meaningful relationships beyond real estate transactions.</p>
                    <div style="display: flex; gap: 1.5rem; margin-top: 1.5rem; flex-wrap: wrap;">
                        <a href="desi.html" style="flex: 1; min-width: 250px; background: linear-gradient(135deg, #FF9933 0%, #138808 100%); color: white; padding: 1.5rem; border-radius: 12px; text-decoration: none;">
                            <h3 style="font-size: 1.4rem; margin-bottom: 0.5rem;">üáÆüá≥ Desi Heritage</h3>
                            <p style="font-size: 0.9rem; opacity: 0.95;">Proudly serving the South Asian community with culturally-aware real estate services.</p>
                        </a>
                        <a href="church.html" style="flex: 1; min-width: 250px; background: linear-gradient(135deg, var(--burgundy) 0%, #6B1E1E 100%); color: white; padding: 1.5rem; border-radius: 12px; text-decoration: none;">
                            <h3 style="font-size: 1.4rem; margin-bottom: 0.5rem;">‚õ™ Faith & Church</h3>
                            <p style="font-size: 0.9rem; opacity: 0.95;">Supporting churches, ministries, and faith-based organizations with their property needs.</p>
                        </a>
                    </div>
                </div>
                
                <div class="section">
                    <h2>Service Areas</h2>
                    <p>I proudly serve clients throughout the Greater Philadelphia area and New Jersey, including:</p>
                    <ul style="margin-left: 1.5rem; margin-top: 1rem;">
                        <li>Philadelphia, PA</li>
                        <li>Bucks County, PA</li>
                        <li>Montgomery County, PA</li>
                        <li>Delaware County, PA</li>
                        <li>South Jersey</li>
                    </ul>
                </div>
                
                ${(agent.license_pa || agent.license_nj) ? `
                <div class="section">
                    <h2>Licenses & Credentials</h2>
                    ${agent.license_pa ? `<div class="license-info"><p><strong>Pennsylvania Real Estate License</strong></p><p>License #: ${agent.license_pa}</p></div>` : ''}
                    ${agent.license_nj ? `<div class="license-info"><p><strong>New Jersey Real Estate License</strong></p><p>License #: ${agent.license_nj}</p></div>` : ''}
                </div>
                ` : ''}
                
                ${listings.length > 0 ? `
                <div class="section listings-section">
                    <h2>My Listings (${listings.length})</h2>
                    <div class="listings-grid">
                        ${listings.map(listing => `
                            <div class="listing-card" onclick="window.location.href='property.html?id=${listing.id}'">
                                <img src="${listing.photo_url || 'photos/placeholder.jpg'}" alt="${listing.address}" onerror="this.src='photos/placeholder.jpg'">
                                <div class="listing-card-info">
                                    <div class="listing-card-price">${listing.price || 'Contact for Price'}</div>
                                    <div class="listing-card-address">${listing.address}</div>
                                    <span class="listing-status status-${(listing.status || 'active').toLowerCase().replace(' ', '-')}">${listing.status || 'Active'}</span>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                ` : ''}
                
                <div class="section">
                    <h2>Let's Connect</h2>
                    <p>Ready to start your real estate journey? I'm here to help!</p>
                    <div class="cta-buttons">
                        ${agent.phone ? `<a href="tel:${agent.phone}" class="btn-primary">üìû Call Me</a>` : ''}
                        <a href="mailto:${agent.email}" class="btn-secondary">üìß Email Me</a>
                        <a href="https://cal.com/harvestrealtyllc" target="_blank" class="btn-primary">üìÖ Schedule a Consultation</a>
                    </div>
                </div>
            `;
        }
        
        document.getElementById('mobileMenuToggle').addEventListener('click', function() {
            document.getElementById('navLinks').classList.toggle('active');
            this.textContent = document.getElementById('navLinks').classList.contains('active') ? '‚úï' : '‚ò∞';
        });
        
        document.addEventListener('DOMContentLoaded', loadAgent);
    </script>
</body>
</html>
